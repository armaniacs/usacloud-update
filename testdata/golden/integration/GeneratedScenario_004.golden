{
  "transform_output": "#!/bin/bash\n# Generated scenario 4 - Error-prone patterns and edge cases\n\necho \"Generated scenario test 4 - Error patterns and edge cases\"\n\n# Whitespace and formatting variations\nusacloud server list    --output-type   csv\nusacloud disk list --output-type=tsv\nusacloud database list  --zone =  all   \n\n# Mixed quotes and escaping\nusacloud server list --selector 'Name=\"test-server\"'\nusacloud disk create --name 'backup-disk' --selector \"Zone=tk1a\"\nusacloud database list --selector \"Tags.Environment='production'\"\n\n# Command fragments and incomplete commands\n# These should be handled gracefully\nusacloud server\nusacloud disk --name test\nusacloud database --selector\n\n# Multiple transformations per line\nusacloud cdrom list --selector \"Size\u003e100\" --output-type json --zone = all  # usacloud-update: csv → json 形式変更 https://docs.usacloud.jp/  # usacloud-update: iso-image → cdrom 名称変更 https://docs.usacloud.jp/\nusacloud product-server list --output-type tsv --selector \"Name~web*\" --zone= tk1a\n\n# Comments with transformable content\n# usacloud cdrom list --output-type json (commented command)  # usacloud-update: csv → json 形式変更 https://docs.usacloud.jp/  # usacloud-update: iso-image → cdrom 名称変更 https://docs.usacloud.jp/\necho \"Running: usacloud startup-script list --output-type tsv\"\n# Zone format: usacloud server list --zone = all\n\n# Conditional execution with transformations\n[ -f /tmp/test ] \u0026\u0026 usacloud product-disk list --output-type json  # usacloud-update: csv → json 形式変更 https://docs.usacloud.jp/\n[ -n \"$ZONE\" ] \u0026\u0026 usacloud cdrom list --zone = $ZONE  # usacloud-update: iso-image → cdrom 名称変更 https://docs.usacloud.jp/\n\n# Variable substitution with transformations  \nZONE=\"tk1a\"\nOUTPUT=\"csv\"\nusacloud startup-script list --zone = $ZONE --output-type $OUTPUT\nusacloud product-server list --output-type=${OUTPUT}\n\n# Function definitions containing transformations\ndeploy_function() {\n    local zone=$1\n    usacloud server list --zone = $zone --output-type json  # usacloud-update: csv → json 形式変更 https://docs.usacloud.jp/\n    usacloud cdrom list --selector \"Name~deploy*\"  # usacloud-update: iso-image → cdrom 名称変更 https://docs.usacloud.jp/\n}\n\n# Heredoc with transformations (should not be transformed)\ncat \u003c\u003c 'EOF'\nusacloud cdrom list --output-type json  # usacloud-update: csv → json 形式変更 https://docs.usacloud.jp/  # usacloud-update: iso-image → cdrom 名称変更 https://docs.usacloud.jp/\nusacloud product-server list --zone = all\nEOF\n\n# Array and loop constructs\nzones=(tk1a tk1b is1a)\nfor zone in \"${zones[@]}\"; do\n    usacloud startup-script list --zone = $zone --output-type json  # usacloud-update: csv → json 形式変更 https://docs.usacloud.jp/\ndone\n\n# Case statements with transformations\ncase \"$ACTION\" in\n    list)\n        usacloud product-disk list --output-type json  # usacloud-update: csv → json 形式変更 https://docs.usacloud.jp/\n        ;;\n    create)\n        usacloud cdrom create --name \"$NAME\"  # usacloud-update: iso-image → cdrom 名称変更 https://docs.usacloud.jp/\n        ;;\nesac\n\necho \"Generated scenario 4 complete - edge cases covered\"",
  "transform_stats": {
    "total_lines": 70,
    "processed_lines": 68,
    "transformed_lines": 13,
    "skipped_lines": 2,
    "rules_applied": [
      "output_format_csv_to_json",
      "resource_rename_iso_image",
      "output_format_csv_to_json",
      "resource_rename_iso_image",
      "output_format_csv_to_json",
      "resource_rename_iso_image",
      "output_format_csv_to_json",
      "resource_rename_iso_image",
      "output_format_csv_to_json",
      "resource_rename_iso_image",
      "output_format_csv_to_json",
      "output_format_csv_to_json",
      "resource_rename_iso_image"
    ]
  },
  "validation_results": [
    {
      "line_number": 23,
      "original_line": "usacloud iso-image list --selector \"Size\u003e100\" --output-type csv --zone = all",
      "validation_status": "error",
      "issues": [
        {
          "type": "deprecated_parameter",
          "severity": "warning",
          "message": "csv出力形式は非推奨です。json形式の使用を推奨します。",
          "suggestion": "--output-type json"
        },
        {
          "type": "deprecated_command",
          "severity": "error",
          "message": "iso-imageコマンドは廃止されました。cdromコマンドを使用してください。",
          "replacement_command": "cdrom"
        }
      ]
    },
    {
      "line_number": 27,
      "original_line": "# usacloud iso-image list --output-type csv (commented command)",
      "validation_status": "error",
      "issues": [
        {
          "type": "deprecated_parameter",
          "severity": "warning",
          "message": "csv出力形式は非推奨です。json形式の使用を推奨します。",
          "suggestion": "--output-type json"
        },
        {
          "type": "deprecated_command",
          "severity": "error",
          "message": "iso-imageコマンドは廃止されました。cdromコマンドを使用してください。",
          "replacement_command": "cdrom"
        }
      ]
    },
    {
      "line_number": 32,
      "original_line": "[ -f /tmp/test ] \u0026\u0026 usacloud product-disk list --output-type csv",
      "validation_status": "warning",
      "issues": [
        {
          "type": "deprecated_parameter",
          "severity": "warning",
          "message": "csv出力形式は非推奨です。json形式の使用を推奨します。",
          "suggestion": "--output-type json"
        }
      ]
    },
    {
      "line_number": 33,
      "original_line": "[ -n \"$ZONE\" ] \u0026\u0026 usacloud iso-image list --zone = $ZONE",
      "validation_status": "error",
      "issues": [
        {
          "type": "deprecated_command",
          "severity": "error",
          "message": "iso-imageコマンドは廃止されました。cdromコマンドを使用してください。",
          "replacement_command": "cdrom"
        }
      ]
    },
    {
      "line_number": 44,
      "original_line": "    usacloud server list --zone = $zone --output-type csv",
      "validation_status": "warning",
      "issues": [
        {
          "type": "deprecated_parameter",
          "severity": "warning",
          "message": "csv出力形式は非推奨です。json形式の使用を推奨します。",
          "suggestion": "--output-type json"
        }
      ]
    },
    {
      "line_number": 45,
      "original_line": "    usacloud iso-image list --selector \"Name~deploy*\"",
      "validation_status": "error",
      "issues": [
        {
          "type": "deprecated_command",
          "severity": "error",
          "message": "iso-imageコマンドは廃止されました。cdromコマンドを使用してください。",
          "replacement_command": "cdrom"
        }
      ]
    },
    {
      "line_number": 50,
      "original_line": "usacloud iso-image list --output-type csv",
      "validation_status": "error",
      "issues": [
        {
          "type": "deprecated_parameter",
          "severity": "warning",
          "message": "csv出力形式は非推奨です。json形式の使用を推奨します。",
          "suggestion": "--output-type json"
        },
        {
          "type": "deprecated_command",
          "severity": "error",
          "message": "iso-imageコマンドは廃止されました。cdromコマンドを使用してください。",
          "replacement_command": "cdrom"
        }
      ]
    },
    {
      "line_number": 57,
      "original_line": "    usacloud startup-script list --zone = $zone --output-type csv",
      "validation_status": "warning",
      "issues": [
        {
          "type": "deprecated_parameter",
          "severity": "warning",
          "message": "csv出力形式は非推奨です。json形式の使用を推奨します。",
          "suggestion": "--output-type json"
        }
      ]
    },
    {
      "line_number": 63,
      "original_line": "        usacloud product-disk list --output-type csv",
      "validation_status": "warning",
      "issues": [
        {
          "type": "deprecated_parameter",
          "severity": "warning",
          "message": "csv出力形式は非推奨です。json形式の使用を推奨します。",
          "suggestion": "--output-type json"
        }
      ]
    },
    {
      "line_number": 66,
      "original_line": "        usacloud iso-image create --name \"$NAME\"",
      "validation_status": "error",
      "issues": [
        {
          "type": "deprecated_command",
          "severity": "error",
          "message": "iso-imageコマンドは廃止されました。cdromコマンドを使用してください。",
          "replacement_command": "cdrom"
        }
      ]
    }
  ],
  "validation_summary": {
    "total_issues": 13,
    "errors": 6,
    "warnings": 7,
    "suggestions": 7,
    "deprecated_commands": 6
  },
  "error_messages": [
    {
      "type": "deprecated_command_error",
      "formatted_message": "❌ エラー: 'iso-image' コマンドはv1で廃止されました。\n\n🔄 代わりに以下を使用してください:\n   usacloud cdrom list\n\nℹ️  詳細な移行ガイド: https://docs.usacloud.jp/usacloud/upgrade/v1_0_0/"
    },
    {
      "type": "deprecated_command_error",
      "formatted_message": "❌ エラー: 'usacloud' コマンドはv1で廃止されました。\n\n🔄 代わりに以下を使用してください:\n   usacloud cdrom list\n\nℹ️  詳細な移行ガイド: https://docs.usacloud.jp/usacloud/upgrade/v1_0_0/"
    },
    {
      "type": "deprecated_command_error",
      "formatted_message": "❌ エラー: '-n' コマンドはv1で廃止されました。\n\n🔄 代わりに以下を使用してください:\n   usacloud cdrom list\n\nℹ️  詳細な移行ガイド: https://docs.usacloud.jp/usacloud/upgrade/v1_0_0/"
    },
    {
      "type": "deprecated_command_error",
      "formatted_message": "❌ エラー: '' コマンドはv1で廃止されました。\n\n🔄 代わりに以下を使用してください:\n   usacloud cdrom list\n\nℹ️  詳細な移行ガイド: https://docs.usacloud.jp/usacloud/upgrade/v1_0_0/"
    },
    {
      "type": "deprecated_command_error",
      "formatted_message": "❌ エラー: 'iso-image' コマンドはv1で廃止されました。\n\n🔄 代わりに以下を使用してください:\n   usacloud cdrom list\n\nℹ️  詳細な移行ガイド: https://docs.usacloud.jp/usacloud/upgrade/v1_0_0/"
    },
    {
      "type": "deprecated_command_error",
      "formatted_message": "❌ エラー: '' コマンドはv1で廃止されました。\n\n🔄 代わりに以下を使用してください:\n   usacloud cdrom list\n\nℹ️  詳細な移行ガイド: https://docs.usacloud.jp/usacloud/upgrade/v1_0_0/"
    }
  ],
  "warning_messages": null,
  "suggestions": [
    {
      "line_number": 23,
      "original_command": "usacloud iso-image list --selector \"Size\u003e100\" --output-type csv --zone = all",
      "suggested_command": "usacloud iso-image list --selector \"Size\u003e100\" --output-type json --zone = all",
      "reason": "JSON形式の方が構造化データの処理に適しています",
      "confidence": 0.9
    },
    {
      "line_number": 27,
      "original_command": "# usacloud iso-image list --output-type csv (commented command)",
      "suggested_command": "# usacloud iso-image list --output-type json (commented command)",
      "reason": "JSON形式の方が構造化データの処理に適しています",
      "confidence": 0.9
    },
    {
      "line_number": 32,
      "original_command": "[ -f /tmp/test ] \u0026\u0026 usacloud product-disk list --output-type csv",
      "suggested_command": "[ -f /tmp/test ] \u0026\u0026 usacloud product-disk list --output-type json",
      "reason": "JSON形式の方が構造化データの処理に適しています",
      "confidence": 0.9
    },
    {
      "line_number": 44,
      "original_command": "usacloud server list --zone = $zone --output-type csv",
      "suggested_command": "    usacloud server list --zone = $zone --output-type json",
      "reason": "JSON形式の方が構造化データの処理に適しています",
      "confidence": 0.9
    },
    {
      "line_number": 50,
      "original_command": "usacloud iso-image list --output-type csv",
      "suggested_command": "usacloud iso-image list --output-type json",
      "reason": "JSON形式の方が構造化データの処理に適しています",
      "confidence": 0.9
    },
    {
      "line_number": 57,
      "original_command": "usacloud startup-script list --zone = $zone --output-type csv",
      "suggested_command": "    usacloud startup-script list --zone = $zone --output-type json",
      "reason": "JSON形式の方が構造化データの処理に適しています",
      "confidence": 0.9
    },
    {
      "line_number": 63,
      "original_command": "usacloud product-disk list --output-type csv",
      "suggested_command": "        usacloud product-disk list --output-type json",
      "reason": "JSON形式の方が構造化データの処理に適しています",
      "confidence": 0.9
    }
  ],
  "deprecation_warnings": null,
  "help_output": "",
  "interactive_output": "",
  "test_metadata": {
    "test_name": "GeneratedScenario_004",
    "input_file": "generated_scenario_4.sh",
    "config_used": "default.conf",
    "test_date": "2025-09-12T13:21:40Z",
    "tool_version": "1.9.0",
    "language": "ja",
    "color_enabled": false
  }
}